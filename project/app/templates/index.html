<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=300, initial-scale=1.0" />
    <title>Moviemind - AI cinema advisor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/site.css?234232">
    <script src="/static/js/bootstrap.bundle.min.js"></script>
    <script src="static/js/showdown.min.js"></script>
    <script src="inference.js"></script>
</head>
<body>
    <div class="container-fluid h-100">
        <div class="chat-body h-100">
            <div class="card-body h-100">
                <!-- Main content container -->
                <div id="top-box">
                    <div id="logo">Moviemind</div>
                    <div id="messages"></div>
                    <div id="progress-bar-container">
                        <div class="progress">
                            <div id="inference-progress" class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div id="buttons"></div>
                    <div class="movies-wrapper"><div id="movies-container"></div></div>
                </div>
                <!-- Query and AI controls container -->
                <form action="" class="form-inline" id="chat-form" onsubmit="submitForm(event)">
                    <div id="controls-box">
                        <div class="input-box">
                            <input type="text" class="form-control" placeholder="{{ res.PROMPT }}" aria-label="{{ res.PROMPT }}" id="messageText" />
                            <button title="Send" id="send" type="submit" class="btn btn-primary" disabled>{{ res.BUTTON_WAIT }}</button>
                        </div>
                        <div id="query-controls">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="rag">
                                <label class="form-check-label" for="rag">
                                    Use external movies database. Recommendation takes 2-3 times longer.
                                </label>
                            </div>                            
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- Movie Details Modal -->
    <div class="modal fade" id="movieDetailsModal" tabindex="-1" aria-labelledby="movieDetailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="movieDetailsModalLabel">Movie Details</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body container">
                    <!-- Movie details will be inserted here via JS -->
                </div>
                <div class="modal-footer items-end">
                    <!-- Button href is JS-generated -->
                    <a href="#" class="btn btn-primary" id="buttonImdb" target="_blank">See on IMDB</a>
                </div>
            </div>
        </div>
    </div>
        
</body>
</html>
